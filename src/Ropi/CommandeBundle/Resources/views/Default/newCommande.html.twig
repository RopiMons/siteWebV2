{% extends '::base.html.twig' %}

{% block content %}
    <h1>Commande de Ropi en ligne</h1>
    <p>Pour commander des ropis en ligne vous devez d'abord être inscrit comme membre de l'asbl (lien vers le formulaire de demande d'adhésion). Si vous êtes déjà membre, vous pouvez commander des Ropi en complétant le formulaire ci-dessous</p>
    {{ form_start(form) }}

    {% if form.vars.errors|length > 0 %}
        <div class="alert alert-danger" role="alert">Votre commande contient des erreures<br />{{ form_errors(form) }}</div>
    {% endif %}


    <div class="panel panel-default">

        <div class="panel-heading">Liste des billets disponibles</div>

        <table class="table">
            <thead>
            <tr>
                <th>Image</th>
                <th>Quantité</th>
                <th>Articles</th>
                <th>Prix</th>
            </tr>
            </thead>
            <tbody>
            {% for formac in form.articlesQuantite %}
                <tr>
                    <td width="40%"><img class="col-sm-8 img100" src="{{ vich_uploader_asset(formac.article.vars.data, 'imageFile') }}" alt="{{ formac.article.vars.value.nom }}" /></td>
                    <td style="vertical-align: middle">
                        {{ form_widget(formac.quantite) }}
                        {{ form_errors(formac.quantite) }}
                    </td>
                    <td style="vertical-align: middle"><p>{{ formac.article.vars.value.nom |capitalize }}</p></td>
                    <td style="vertical-align: middle">{{ formac.article.vars.value.prix }} €</td>
                </tr>

            {% endfor %}
            </tbody>
        </table>
    </div>

    <h2>Lieu de livraison</h2>
    <p>Veuillez choisir l'endroit où vous souhaitez être livré</p>
    <p>Vous pouvez etre livré à domicile, moyennant des frais. Il est égallement possible d'etre livré dans un commerce participant, sans frais.</p>

    <table>
        <tbody>
        <tr style="text-align: center; vertical-align: middle   ">
            <td width="50%"><div class="jumbotron" id="commercant"><h2>Chez un COMMERCANT</h2><p>Sans frais</p></div></td>
            <td width="50%"><div class="jumbotron" id="moi"><h2>Chez MOI</moi></h2><p>Moyennant participation</p></div></td>
        </tr>
        </tbody>
    </table>

    <div id="result"></div>
    <br /><br />
    <div id="result2"></div>
    <br /><br />
    {#<h2>Mode de paiement</h2>
    <p>Vous pouvez selectionner le moyen de paiement de votre choix, par confort, nous vous proposons égallement des moyens de paiement en ligne mais nous vous demandons de prendre en charge les frais y afférents</p>
    {{ form_row(form.modeDePaiement) }} #}

    {{ form_row(form._token) }}

    {{ form_row(form.send) }}

    </form>

{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', {'callback': 'fos.Router.setData'}) }}"></script>
    {% javascripts '@RopiCommandeBundle/Resources/public/js/formCommande.js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}